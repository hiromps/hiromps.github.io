<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ã‚­ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ - VALORANT Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .skins-container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        
        .filters-section {
            background: rgba(15, 25, 35, 0.95);
            border: 1px solid #ff4655;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .filters-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .filter-stats {
            color: #888;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .clear-filters-btn {
            background: rgba(255, 70, 85, 0.1);
            color: #ff4655;
            border: 1px solid #ff4655;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .clear-filters-btn:hover {
            background: rgba(255, 70, 85, 0.2);
            transform: translateY(-1px);
        }
        
        .clear-filters-btn:active {
            transform: translateY(0);
        }
        
        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            align-items: end;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .filter-group label {
            color: #fff;
            font-weight: 600;
        }
        
        .filter-group select,
        .filter-group input {
            padding: 0.75rem;
            border: 1px solid #444;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* VALORANTé¢¨ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« */
        .filter-group select {
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="%2300f5ff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 20px;
            padding-right: 45px;
            cursor: pointer;
            font-weight: 500;
        }
        
        .filter-group select:hover {
            background-color: rgba(0, 245, 255, 0.05);
            border-color: #00f5ff;
            box-shadow: 0 0 12px rgba(0, 245, 255, 0.15);
        }
        
        .filter-group select:focus {
            outline: none;
            background-color: rgba(0, 245, 255, 0.08);
            border-color: #00f5ff;
            box-shadow: 0 0 16px rgba(0, 245, 255, 0.25);
        }
        
        /* ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .filter-group select option {
            background: #0f1419;
            color: #ffffff; 
            padding: 12px 16px;
            border: none;
            font-size: 14px;
            font-weight: 500;
            line-height: 1.4;
            border-bottom: 1px solid rgba(68, 68, 68, 0.3);
        }
        
        .filter-group select option:hover {
            background: linear-gradient(135deg, #00f5ff 0%, #0db8de 100%) !important;
            color: #000000 !important;
            font-weight: 600;
        }
        
        .filter-group select option:checked,
        .filter-group select option:focus {
            background: linear-gradient(135deg, #0db8de 0%, #008bb3 100%);
            color: #ffffff;
            font-weight: 600;
            box-shadow: inset 0 0 8px rgba(0, 245, 255, 0.3);
        }
        
        /* å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒ«æ”¹å–„ */
        .filter-group input:focus {
            outline: none;
            background-color: rgba(0, 245, 255, 0.05);
            border-color: #00f5ff;
            box-shadow: 0 0 12px rgba(0, 245, 255, 0.2);
        }
        
        .skins-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            align-items: stretch;
        }
        
        .skin-card {
            background: rgba(15, 25, 35, 0.95);
            border: 1px solid #444;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            height: auto;
            min-height: 380px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .skin-card:hover {
            border-color: #ff4655;
            transform: translateY(-8px);
            box-shadow: 0 16px 32px rgba(255, 70, 85, 0.25), 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        
        .skin-image {
            width: 100%;
            height: 200px;
            object-fit: contain;
            object-position: center;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            flex-shrink: 0;
            padding: 0.75rem;
            border-radius: 8px 8px 0 0;
            transition: transform 0.3s ease;
        }
        
        .skin-card:hover .skin-image {
            transform: scale(1.02);
        }
        
        .skin-info {
            padding: 1.25rem 1.75rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .skin-name {
            font-size: 1.1rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 0.5rem;
            line-height: 1.3;
            word-wrap: break-word;
            hyphens: auto;
            overflow-wrap: break-word;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            max-height: 2.6em;
        }
        
        .skin-weapon {
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            font-weight: 500;
        }
        
        .skin-details {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .skin-price {
            font-size: 1rem;
            font-weight: 600;
            color: #ff4655;
            white-space: nowrap;
        }
        
        .skin-rarity {
            padding: 0.25rem 0.6rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            white-space: nowrap;
            text-align: center;
            flex-shrink: 0;
        }
        
        .rarity-select { background: #4CAF50; color: white; }
        .rarity-deluxe { background: #2196F3; color: white; }
        .rarity-premium { background: #9C27B0; color: white; }
        .rarity-ultra { background: #FF9800; color: white; }
        .rarity-exclusive { background: #F44336; color: white; }
        .rarity-legendary { background: #FFC107; color: black; }
        
        .skin-collection {
            color: #aaa;
            font-size: 0.8rem;
            margin-top: auto;
            line-height: 1.2;
            word-wrap: break-word;
        }
        
        .search-section {
            background: rgba(15, 25, 35, 0.95);
            border: 1px solid #ff4655;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .search-input {
            width: 100%;
            max-width: 400px;
            padding: 0.75rem;
            border: 1px solid #444;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1rem;
        }
        
        .loading {
            text-align: center;
            padding: 4rem 2rem;
            color: #888;
            font-size: 1.1rem;
        }
        
        .loading::before {
            content: "â³";
            margin-right: 0.5rem;
            animation: spin 2s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            color: #888;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .no-results small {
            display: block;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: #aaa;
        }
        
        /* èƒŒæ™¯ã‚¹ã‚¿ã‚¤ãƒ« */
        body {
            margin: 0;
            background: linear-gradient(135deg, #0f1419 0%, #1a252f 50%, #2d3748 100%);
            min-height: 100vh;
            color: white;
            font-family: 'Inter', 'Noto Sans JP', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f1419 0%, #1a252f 50%, #2d3748 100%);
            z-index: -1;
            overflow: hidden;
        }
        
        .background::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 25% 25%, rgba(255, 70, 85, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(59, 130, 246, 0.08) 0%, transparent 50%);
            animation: movePattern 20s ease-in-out infinite;
        }
        
        .background::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(45deg, transparent 49%, rgba(255, 70, 85, 0.02) 50%, transparent 51%),
                linear-gradient(-45deg, transparent 49%, rgba(59, 130, 246, 0.02) 50%, transparent 51%);
            background-size: 60px 60px;
            animation: pulse 4s ease-in-out infinite;
        }
        
        @keyframes movePattern {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(-30px, -30px) rotate(180deg); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        
        h2, h3 {
            color: #ff4655;
        }
        
        /* ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒªã‚»ãƒƒãƒˆ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .app-header {
            position: sticky;
            top: 0;
            left: 0;
            right: 0;
            width: 100%;
            padding: 0.75rem 0;
            background-color: rgba(15, 25, 35, 0.98);
            border-bottom: 2px solid #ff4655;
            backdrop-filter: blur(15px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.4);
            z-index: 999;
            transition: all 0.3s ease;
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1rem;
            width: 100%;
            min-height: 60px;
        }
        
        .nav-buttons {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .author-section {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #fff;
            flex-shrink: 0;
        }
        
        .author-text {
            margin: 0;
            font-size: 0.85rem;
            font-weight: 600;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
            white-space: nowrap;
            color: #fff;
            display: block;
        }
        
        .author-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 2px solid #ff4655;
            object-fit: cover;
            flex-shrink: 0;
        }
        .app-header button,
        .app-header a.header-button {
            background-color: #ff4655;
            color: white;
            border: none;
            padding: 0.6rem 1rem;
            margin: 0;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
            min-height: 40px;
            box-shadow: 0 2px 8px rgba(255, 70, 85, 0.3);
        }
        .app-header button:hover,
        .app-header a.header-button:hover {
            background-color: #e0303f;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 70, 85, 0.4);
        }
        .app-header button.active,
        .app-header a.header-button.active {
            background-color: #22c55e; /* ç·‘ãªã©ã§ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’ç¤ºã™ */
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.5);
            text-decoration: none; /* ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ™‚ã‚‚ä¸‹ç·šã‚’æ¶ˆã™ */
        }
        .hidden {
            display: none !important;
        }
        #showOverlayModeLink {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #showTrackerModeLink {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .author-section {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #fff;
        }
        .author-text {
            margin: 0;
            font-size: 0.9em;
            font-weight: 600;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }
        .author-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid #ff4655;
            object-fit: cover;
        }
        /* ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
        .hamburger-menu {
            display: none;
            flex-direction: column;
            justify-content: center;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.3s ease;
            min-width: 40px;
            min-height: 40px;
            background-color: transparent;
            border: 1px solid transparent;
        }
        
        .hamburger-menu:hover {
            background-color: rgba(255, 70, 85, 0.1);
            border-color: rgba(255, 70, 85, 0.3);
        }
        
        .hamburger-line {
            width: 22px;
            height: 2px;
            background-color: #fff;
            margin: 2px 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 2px;
        }
        
        .hamburger-menu.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }
        
        .hamburger-menu.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }
        
        .hamburger-menu.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }
        
        .mobile-nav {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(15, 25, 35, 0.98);
            backdrop-filter: blur(15px);
            border-top: 1px solid rgba(255, 70, 85, 0.3);
            padding: 1rem;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            border-bottom: 2px solid rgba(255, 70, 85, 0.5);
            animation: slideDown 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .mobile-nav.active {
            display: block;
        }
        
        .mobile-nav-buttons {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .mobile-nav .header-button {
            width: 100%;
            text-align: center;
            padding: 1rem 1.5rem;
            margin: 0;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            background-color: rgba(255, 70, 85, 0.1);
            border: 1px solid rgba(255, 70, 85, 0.3);
            transition: all 0.3s ease;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .mobile-nav .header-button:hover {
            background-color: rgba(255, 70, 85, 0.2);
            transform: translateY(-1px);
        }
        
        .mobile-nav .header-button.active {
            background-color: rgba(34, 197, 94, 0.2);
            border-color: rgba(34, 197, 94, 0.5);
        }
        
        /* èƒŒæ™¯ã‚¹ã‚¿ã‚¤ãƒ« */
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f1419 0%, #1a252f 50%, #2d3748 100%);
            z-index: -1;
            overflow: hidden;
        }
        
        .background::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 25% 25%, rgba(255, 70, 85, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(59, 130, 246, 0.08) 0%, transparent 50%);
            animation: movePattern 20s ease-in-out infinite;
        }
        
        .background::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(45deg, transparent 49%, rgba(255, 70, 85, 0.02) 50%, transparent 51%),
                linear-gradient(-45deg, transparent 49%, rgba(59, 130, 246, 0.02) 50%, transparent 51%);
            background-size: 60px 60px;
            animation: pulse 4s ease-in-out infinite;
        }
        
        @keyframes movePattern {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(-30px, -30px) rotate(180deg); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ–ãƒ¬ã‚¤ã‚¯ãƒã‚¤ãƒ³ãƒˆ */
        @media screen and (max-width: 1200px) {
            .skins-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 1.25rem;
            }
        }
        
        @media screen and (max-width: 1024px) {
            .nav-buttons {
                gap: 0.25rem;
            }
            
            .app-header a.header-button {
                padding: 0.5rem 0.75rem;
                font-size: 0.85rem;
            }
            
            .skins-container {
                padding: 0 0.75rem;
            }
            
            .filters-grid {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
                gap: 0.75rem;
            }
        }
        
        @media screen and (max-width: 768px) {
            .app-header {
                padding: 0.5rem 0;
            }
            
            .header-content {
                padding: 0 1rem;
                min-height: 56px;
            }
            
            .nav-buttons {
                display: none;
            }
            
            .hamburger-menu {
                display: flex;
            }
            
            .author-text {
                font-size: 0.8rem;
            }
            
            .author-avatar {
                width: 32px;
                height: 32px;
            }
            
            .skins-grid {
                grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
                gap: 1rem;
            }
            
            .skin-card {
                min-height: 350px;
            }
            
            .skin-image {
                height: 180px;
            }
            
            .skin-info {
                padding: 1rem;
            }
            
            .filters-section,
            .search-section {
                padding: 1.5rem;
            }
            
            .filters-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.75rem;
            }
            
            .filters-actions {
                width: 100%;
                justify-content: space-between;
            }
            
            .filters-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }
        
        @media screen and (max-width: 480px) {
            .header-content {
                padding: 0 0.75rem;
                min-height: 52px;
            }
            
            .author-text {
                font-size: 0.75rem;
                display: block;
            }
            
            .hamburger-menu {
                min-width: 36px;
                min-height: 36px;
                padding: 6px;
            }
            
            .hamburger-line {
                width: 20px;
            }
            
            .mobile-nav {
                padding: 0.75rem;
            }
            
            .mobile-nav .header-button {
                padding: 0.875rem 1rem;
                font-size: 0.95rem;
                min-height: 46px;
            }
            
            .skins-container {
                padding: 0 0.5rem;
            }
            
            .skins-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .skin-card {
                min-height: 320px;
                max-width: 100%;
            }
            
            .skin-image {
                height: 160px;
            }
            
            .skin-name {
                font-size: 1rem;
            }
            
            .skin-details {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            .skin-rarity {
                align-self: flex-start;
            }
            
            .filters-section,
            .search-section {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            
            .filters-header {
                flex-direction: column;
                align-items: stretch;
                gap: 0.5rem;
                margin-bottom: 1rem;
            }
            
            .filters-actions {
                flex-direction: column;
                align-items: stretch;
                gap: 0.5rem;
            }
            
            .filter-stats {
                text-align: center;
                font-size: 0.85rem;
            }
            
            .clear-filters-btn {
                width: 100%;
                text-align: center;
                padding: 0.75rem;
            }
            
            .search-input {
                font-size: 16px; /* iOSã§æ‹¡å¤§ã•ã‚Œã‚‹ã®ã‚’é˜²ã */
            }
        }
    </style>
</head>
    <body>
    <div class="background"></div>
    
    <header class="app-header">
        <div class="header-content">
            <div class="nav-buttons">
                <a href="/" id="showOverlayModeLink" class="header-button">OBSã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤</a>
                <a href="./valorant-stats-tracker/" id="showTrackerModeLink" class="header-button">æˆ¦ç¸¾ãƒˆãƒ©ãƒƒã‚«ãƒ¼</a>
                <a href="/match-history.html" class="header-button">ãƒãƒƒãƒå±¥æ­´</a>
                <a href="/skins-database.html" class="header-button active">ã‚¹ã‚­ãƒ³DB</a>
                <a href="/leaderboard.html" class="header-button">ãƒ©ãƒ³ã‚­ãƒ³ã‚°</a>
            </div>
            
            <!-- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ -->
            <div class="hamburger-menu" id="hamburgerMenu">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
            </div>
            
            <div class="author-section">
                <p class="author-text">Project by ã«ã©å¯</p>
                <img src="assets/images/nidone.png" alt="è£½ä½œè€…ã‚¢ãƒã‚¿ãƒ¼" class="author-avatar">
            </div>
        </div>
        
        <!-- ãƒ¢ãƒã‚¤ãƒ«ç”¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="mobile-nav" id="mobileNav">
            <div class="mobile-nav-buttons">
                <a href="/" class="header-button">OBSã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤</a>
                <a href="./valorant-stats-tracker/" class="header-button">æˆ¦ç¸¾ãƒˆãƒ©ãƒƒã‚«ãƒ¼</a>
                <a href="/match-history.html" class="header-button">ãƒãƒƒãƒå±¥æ­´</a>
                <a href="/skins-database.html" class="header-button active">ã‚¹ã‚­ãƒ³DB</a>
                <a href="/leaderboard.html" class="header-button">ãƒ©ãƒ³ã‚­ãƒ³ã‚°</a>
            </div>
        </div>
    </header>
    
    <div class="background"></div>
    
    <div class="skins-container">
        <div class="search-section">
            <h2>ğŸ¨ ã‚¹ã‚­ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹</h2>
            <p style="color: #888; margin-bottom: 1rem; font-size: 0.9rem;">
                VALORANT-API.COMã‹ã‚‰æœ€æ–°ã®ã‚¹ã‚­ãƒ³æƒ…å ±ã‚’å–å¾—
            </p>
            <input type="text" id="searchInput" class="search-input" placeholder="ã‚¹ã‚­ãƒ³åã€æ­¦å™¨åï¼ˆãƒ´ã‚¡ãƒ³ãƒ€ãƒ«ã€ãƒ•ã‚¡ãƒ³ãƒˆãƒ ç­‰ï¼‰ã€ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³åã§æ¤œç´¢...">
        </div>
        
        <div class="filters-section">
            <div class="filters-header">
                <h3>ğŸ” ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼</h3>
                <div class="filters-actions">
                    <span id="filterStats" class="filter-stats">ã‚¹ã‚­ãƒ³èª­ã¿è¾¼ã¿ä¸­...</span>
                    <button id="clearFiltersBtn" class="clear-filters-btn" onclick="clearFilters()">
                        ã‚¯ãƒªã‚¢
                    </button>
                </div>
            </div>
            
            <div class="filters-grid">
                <div class="filter-group">
                    <label for="weaponFilter">æ­¦å™¨å</label>
                    <select id="weaponFilter">
                        <option value="">ã™ã¹ã¦ã®æ­¦å™¨</option>
                        <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ -->
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="rarityFilter">ãƒ¬ã‚¢ãƒªãƒ†ã‚£</label>
                    <select id="rarityFilter">
                        <option value="">ã™ã¹ã¦ã®ãƒ¬ã‚¢ãƒªãƒ†ã‚£</option>
                        <option value="select">ã‚»ãƒ¬ã‚¯ãƒˆ</option>
                        <option value="deluxe">ãƒ‡ãƒ©ãƒƒã‚¯ã‚¹</option>
                        <option value="premium">ãƒ—ãƒ¬ãƒŸã‚¢ãƒ </option>
                        <option value="ultra">ã‚¦ãƒ«ãƒˆãƒ©</option>
                        <option value="exclusive">ã‚¨ã‚¯ã‚¹ã‚¯ãƒ«ãƒ¼ã‚·ãƒ–</option>
                        <!-- ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ã¯å®Ÿéš›ã«å­˜åœ¨ã™ã‚‹å ´åˆã®ã¿å‹•çš„ã«è¿½åŠ  -->
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="priceFilter">ä¾¡æ ¼ç¯„å›²</label>
                    <select id="priceFilter">
                        <option value="">ã™ã¹ã¦ã®ä¾¡æ ¼</option>
                        <option value="0-0">ç„¡æ–™</option>
                        <option value="875-875">875 VP (ã‚»ãƒ¬ã‚¯ãƒˆ/ãƒ‡ãƒ©ãƒƒã‚¯ã‚¹)</option>
                        <option value="1775-1775">1775 VP (ãƒ—ãƒ¬ãƒŸã‚¢ãƒ )</option>
                        <option value="2475-2475">2475 VP (ã‚¦ãƒ«ãƒˆãƒ©)</option>
                        <option value="3550-3550">3550 VP (ã‚¨ã‚¯ã‚¹ã‚¯ãƒ«ãƒ¼ã‚·ãƒ–)</option>
                        <option value="1775-99999">1775 VPä»¥ä¸Š (ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä»¥ä¸Š)</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div id="skinsGrid" class="skins-grid">
            <!-- ã‚¹ã‚­ãƒ³ã‚«ãƒ¼ãƒ‰ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
        </div>
        
        <div id="loadingMessage" class="loading">
            ã‚¹ã‚­ãƒ³æƒ…å ±ã‚’èª­ã¿è¾¼ã¿ä¸­...
        </div>
    </div>
    
    <script>
        // ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å‹•ä½œï¼ˆå®Œå…¨çµ±ä¸€ç‰ˆï¼‰
        function initializeHamburgerMenu() {
            const hamburgerMenu = document.getElementById('hamburgerMenu');
            const mobileNav = document.getElementById('mobileNav');
            
            if (!hamburgerMenu || !mobileNav) {
                console.warn('ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¾ãŸã¯ãƒ¢ãƒã‚¤ãƒ«ãƒŠãƒ“ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                return;
            }
            
            // ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
            hamburgerMenu.addEventListener('click', function(event) {
                event.stopPropagation();
                hamburgerMenu.classList.toggle('active');
                mobileNav.classList.toggle('active');
                
                // ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®ãŸã‚ã®ariaå±æ€§ã‚’æ›´æ–°
                const isActive = hamburgerMenu.classList.contains('active');
                hamburgerMenu.setAttribute('aria-expanded', isActive);
                mobileNav.setAttribute('aria-hidden', !isActive);
            });
            
            // ãƒ¢ãƒã‚¤ãƒ«ãƒŠãƒ“ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹
            const mobileNavLinks = mobileNav.querySelectorAll('.header-button');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    closeHamburgerMenu();
                });
            });
            
            // ç”»é¢å¤–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹
            document.addEventListener('click', function(event) {
                if (!hamburgerMenu.contains(event.target) && 
                    !mobileNav.contains(event.target) && 
                    mobileNav.classList.contains('active')) {
                    closeHamburgerMenu();
                }
            });
            
            // ESCã‚­ãƒ¼ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' && mobileNav.classList.contains('active')) {
                    closeHamburgerMenu();
                }
            });
            
            // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚µã‚¤ã‚ºæ™‚ã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹ï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ“ãƒ¥ãƒ¼ã«æˆ»ã£ãŸå ´åˆï¼‰
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768 && mobileNav.classList.contains('active')) {
                    closeHamburgerMenu();
                }
            });
            
            // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹å…±é€šé–¢æ•°
            function closeHamburgerMenu() {
                hamburgerMenu.classList.remove('active');
                mobileNav.classList.remove('active');
                hamburgerMenu.setAttribute('aria-expanded', false);
                mobileNav.setAttribute('aria-hidden', true);
            }
            
            // åˆæœŸçŠ¶æ…‹ã®ariaå±æ€§ã‚’è¨­å®š
            hamburgerMenu.setAttribute('aria-expanded', false);
            hamburgerMenu.setAttribute('aria-label', 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã');
            mobileNav.setAttribute('aria-hidden', true);
            
            console.log('ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒæ­£å¸¸ã«åˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸ');
        }

        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let allSkins = [];
        let currentSkins = [];
        let weaponCategories = {};
        let contentTiers = {};
        
        // VALORANT APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹é–¢æ•°
        async function fetchValorantData() {
            try {
                console.log('[API] VALORANT ãƒ‡ãƒ¼ã‚¿å–å¾—é–‹å§‹...');
                document.getElementById('loadingMessage').style.display = 'block';
                
                // ä¸¦è¡Œã—ã¦ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
                const [skinsResponse, weaponsResponse, tiersResponse] = await Promise.all([
                    fetch('https://valorant-api.com/v1/weapons/skins'),
                    fetch('https://valorant-api.com/v1/weapons'),
                    fetch('https://valorant-api.com/v1/contenttiers')
                ]);
                
                if (!skinsResponse.ok || !weaponsResponse.ok || !tiersResponse.ok) {
                    throw new Error('APIå¿œç­”ã‚¨ãƒ©ãƒ¼');
                }
                
                const skinsData = await skinsResponse.json();
                const weaponsData = await weaponsResponse.json();
                const tiersData = await tiersResponse.json();
                
                console.log('[API] ãƒ‡ãƒ¼ã‚¿å–å¾—æˆåŠŸ');
                console.log(`[API] ã‚¹ã‚­ãƒ³æ•°: ${skinsData.data.length}`);
                console.log(`[API] æ­¦å™¨æ•°: ${weaponsData.data.length}`);
                console.log(`[API] ãƒ†ã‚£ã‚¢æ•°: ${tiersData.data.length}`);
                
                // æ­¦å™¨ã‚«ãƒ†ã‚´ãƒªãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ä½œæˆ
                console.log(`[Weapon] ${weaponsData.data.length}å€‹ã®æ­¦å™¨ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ä¸­`);
                
                weaponsData.data.forEach(weapon => {
                    let category = 'other';
                    
                    if (weapon.category) {
                        // "EEquippableCategory::Heavy" -> "heavy" ã®ã‚ˆã†ã«å¤‰æ›
                        const categoryParts = weapon.category.split('::');
                        if (categoryParts.length > 1) {
                            category = categoryParts[1].toLowerCase();
                        } else {
                            category = weapon.category.toLowerCase();
                        }
                    }
                    
                    // ã‚«ãƒ†ã‚´ãƒªåã®æ­£è¦åŒ–
                    const categoryMap = {
                        'heavy': 'sniper rifle',
                        'rifle': 'assault rifle', 
                        'smg': 'submachine gun',
                        'shotgun': 'shotgun',
                        'sidearm': 'sidearm',
                        'melee': 'melee',
                        'lmg': 'machine gun'
                    };
                    
                    category = categoryMap[category] || 'other';
                    
                    // ã™ã¹ã¦ã®æ­¦å™¨ã‚’ç™»éŒ²ï¼ˆunknownã‚‚otherã¨ã—ã¦ç™»éŒ²ï¼‰
                    weaponCategories[weapon.uuid] = {
                        name: weapon.displayName,
                        category: category
                    };
                    
                    console.log(`[Weapon] ${weapon.displayName}: ${category} (Original: ${weapon.category})`);
                });
                
                console.log(`[Weapon] æ­¦å™¨ã‚«ãƒ†ã‚´ãƒªãƒãƒƒãƒ”ãƒ³ã‚°å®Œäº†: ${Object.keys(weaponCategories).length}å€‹`);
                console.log(`[Weapon] ã‚«ãƒ†ã‚´ãƒªçµ±è¨ˆ:`, getWeaponCategoryStats());
                
                        // ãƒ†ã‚£ã‚¢æƒ…å ±ã‚’ãƒãƒƒãƒ”ãƒ³ã‚°
        console.log(`[Tier] ${tiersData.data.length}å€‹ã®Content Tierã‚’å‡¦ç†ä¸­`);
        
        tiersData.data.forEach(tier => {
            contentTiers[tier.uuid] = {
                name: tier.displayName,
                rank: tier.rank || 0,
                devName: tier.devName || '',
                highlightColor: tier.highlightColor || '',
                uuid: tier.uuid
            };
            
            // è©³ç´°ãªãƒ†ã‚£ã‚¢æƒ…å ±ã‚’ãƒ­ã‚°å‡ºåŠ›ï¼ˆæœ€åˆã®10å€‹ã®ã¿ï¼‰
            if (window.tierDetailLogCount === undefined) window.tierDetailLogCount = 0;
            if (window.tierDetailLogCount < 10) {
                console.log(`[Tier Detail] ${tier.displayName}:`, {
                    rank: tier.rank,
                    devName: tier.devName,
                    highlightColor: tier.highlightColor,
                    uuid: tier.uuid
                });
                window.tierDetailLogCount++;
            }
        });
        
        // ãƒ†ã‚£ã‚¢ã‚’ä¾¡æ ¼é †ã«ã‚½ãƒ¼ãƒˆã—ã¦è¡¨ç¤º
        const sortedTiers = Object.values(contentTiers).sort((a, b) => a.rank - b.rank);
        console.log(`[Tier] Content Tierãƒãƒƒãƒ”ãƒ³ã‚°å®Œäº†: ${Object.keys(contentTiers).length}å€‹`);
        console.log(`[Tier] ä¾¡æ ¼é †ãƒ†ã‚£ã‚¢ (ä¸Šä½10å€‹):`, 
            sortedTiers.slice(0, 10).map(t => `${t.name} (rank: ${t.rank})`));
                
                // ã‚¹ã‚­ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†
                allSkins = processSkinsData(skinsData.data);
                currentSkins = [...allSkins];
                
                console.log(`[API] å‡¦ç†ã•ã‚ŒãŸã‚¹ã‚­ãƒ³æ•°: ${allSkins.length}`);
                
                // ã‚¹ã‚­ãƒ³ãŒ0å€‹ã®å ´åˆã¯è­¦å‘Šè¡¨ç¤º
                if (allSkins.length === 0) {
                    document.getElementById('loadingMessage').innerHTML = `
                        <div style="color: #ff4655;">
                            <h3>âš ï¸ è­¦å‘Š</h3>
                            <p>å‡¦ç†å¯èƒ½ãªã‚¹ã‚­ãƒ³ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>
                            <button onclick="debugFilterData()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: #ff4655; color: white; border: none; border-radius: 4px; cursor: pointer;">
                                ãƒ‡ãƒãƒƒã‚°æƒ…å ±è¡¨ç¤º
                            </button>
                        </div>
                    `;
                    return;
                }
                
                document.getElementById('loadingMessage').style.display = 'none';
                
                // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ã‚’åˆæœŸåŒ–
                initializeFilters();
                
                // ã‚¹ã‚­ãƒ³ã‚’è¡¨ç¤º
                displaySkins(currentSkins);
                updateFilterStats(currentSkins.length, allSkins.length);
                
                console.log('[API] åˆæœŸåŒ–å®Œäº†ï¼');
                
            } catch (error) {
                console.error('[API] ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
                document.getElementById('loadingMessage').innerHTML = `
                    <div style="color: #ff4655;">
                        <h3>âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</h3>
                        <p>VALORANT APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚</p>
                        <button onclick="fetchValorantData()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: #ff4655; color: white; border: none; border-radius: 4px; cursor: pointer;">
                            å†è©¦è¡Œ
                        </button>
                    </div>
                `;
            }
        }
        
        // ã‚¹ã‚­ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ã™ã‚‹é–¢æ•°
        function processSkinsData(skinsData) {
            const processedSkins = [];
            let skippedCount = 0;
            let processedCount = 0;
            
            console.log(`[Process] ${skinsData.length}å€‹ã®ã‚¹ã‚­ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†é–‹å§‹`);
            
            skinsData.forEach(skin => {
                // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚­ãƒ³ã‚„ç”»åƒãŒãªã„ã‚¹ã‚­ãƒ³ã‚’ã‚¹ã‚­ãƒƒãƒ—
                if (!skin.displayIcon || 
                    skin.displayName === 'Standard' || 
                    skin.displayName.includes('Random Favorite') ||
                    !skin.contentTierUuid) {
                    skippedCount++;
                    return;
                }
                
                // æ­¦å™¨æƒ…å ±ã‚’å–å¾—
                const weaponInfo = weaponCategories[skin.weaponUuid];
                
                // æ­¦å™¨æƒ…å ±ãŒãªã„å ´åˆã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†
                let normalizedCategory = 'other';
                let weaponName = 'Unknown';
                
                if (weaponInfo && weaponInfo.category) {
                    normalizedCategory = weaponInfo.category.toLowerCase().trim();
                    weaponName = weaponInfo.name;
                } else {
                    // æ­¦å™¨æƒ…å ±ãŒãªã„å ´åˆã¯ãƒ­ã‚°ã«è¨˜éŒ²ã™ã‚‹ãŒã€ã‚¹ã‚­ãƒ³ã¯è¡¨ç¤º
                    console.log(`[Warning] æ­¦å™¨æƒ…å ±ãªã—: ${skin.displayName} (UUID: ${skin.weaponUuid})`);
                    // ã‚¹ã‚­ãƒ³ã®åå‰ã‹ã‚‰æ­¦å™¨åã‚’æ¨æ¸¬
                    weaponName = extractWeaponFromName(skin.displayName);
                }
                
                // 'unknown'ã‚«ãƒ†ã‚´ãƒªã‚‚è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã§é™¤å¤–å¯èƒ½ï¼‰
                if (normalizedCategory === 'unknown' || normalizedCategory === '') {
                    normalizedCategory = 'other';
                    console.log(`[Info] ä¸æ˜ãªæ­¦å™¨ã‚¿ã‚¤ãƒ—ã‚’otherã«å¤‰æ›´: ${skin.displayName}`);
                }
                
                // ãƒ†ã‚£ã‚¢æƒ…å ±ã‚’å–å¾—
                const tierInfo = contentTiers[skin.contentTierUuid] || {
                    name: 'Unknown',
                    rank: 0
                };
                
                // ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã‚’åˆ¤å®š
                const rarity = determineRarity(tierInfo);
                
                // ãƒ¬ã‚¢ãƒªãƒ†ã‚£åˆ¤å®šã®ãƒ­ã‚°ï¼ˆæœ€åˆã®10å€‹ã®ã¿ï¼‰
                if (processedCount < 10) {
                    console.log(`[Rarity Sample] ${skin.displayName}: ${rarity} (Tier: ${tierInfo.name}, Rank: ${tierInfo.rank})`);
                }
                
                // ä¾¡æ ¼ã‚’æ¨å®šï¼ˆãƒ†ã‚£ã‚¢æƒ…å ±ã¨ã‚¹ã‚­ãƒ³åãƒ™ãƒ¼ã‚¹ï¼‰
                const price = estimatePrice(tierInfo.rank, tierInfo.name, skin.displayName);
                
                // ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³åã‚’å‡¦ç†
                const collection = extractCollectionName(skin.displayName, skin.themeUuid);
                
                processedSkins.push({
                    uuid: skin.uuid,
                    name: translateSkinName(skin.displayName), // æ—¥æœ¬èªã‚¹ã‚­ãƒ³å
                    originalName: skin.displayName, // å…ƒã®è‹±èªåï¼ˆæ¤œç´¢ç”¨ï¼‰
                    weapon: getJapaneseWeaponName(weaponName), // æ—¥æœ¬èªæ­¦å™¨å
                    weaponEnglish: weaponName, // è‹±èªæ­¦å™¨åï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç”¨ï¼‰
                    weaponType: normalizedCategory,
                    weaponUuid: skin.weaponUuid,
                    price: price,
                    rarity: rarity,
                    collection: collection,
                    image: skin.displayIcon,
                    wallpaper: skin.wallpaper,
                    tierRank: tierInfo.rank,
                    tierName: tierInfo.name,
                    themeUuid: skin.themeUuid
                });
                processedCount++;
            });
            
            console.log(`[Process] å‡¦ç†å®Œäº†: ${processedCount}å€‹å‡¦ç†, ${skippedCount}å€‹ã‚¹ã‚­ãƒƒãƒ—`);
            
            const rarityStats = getRarityStats(processedSkins);
            const priceStats = getPriceStats(processedSkins);
            const weaponStats = getWeaponStats(processedSkins);
            
            console.log(`[Process] ãƒ¬ã‚¢ãƒªãƒ†ã‚£åˆ†å¸ƒ:`, rarityStats);
            console.log(`[Process] ä¾¡æ ¼çµ±è¨ˆ:`, priceStats);
            console.log(`[Process] æ­¦å™¨çµ±è¨ˆ:`, weaponStats);
            
            // åå‰ã§ã‚½ãƒ¼ãƒˆ
            return processedSkins.sort((a, b) => a.name.localeCompare(b.name));
        }
        
        // æ­¦å™¨åã®æ—¥æœ¬èªãƒãƒƒãƒ”ãƒ³ã‚°
        function getJapaneseWeaponName(englishName) {
            const weaponNameMap = {
                'Phantom': 'ãƒ•ã‚¡ãƒ³ãƒˆãƒ ',
                'Vandal': 'ãƒ´ã‚¡ãƒ³ãƒ€ãƒ«', 
                'Operator': 'ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼',
                'Sheriff': 'ã‚·ã‚§ãƒªãƒ•',
                'Ghost': 'ã‚´ãƒ¼ã‚¹ãƒˆ',
                'Classic': 'ã‚¯ãƒ©ã‚·ãƒƒã‚¯',
                'Frenzy': 'ãƒ•ãƒ¬ãƒ³ã‚¸ãƒ¼',
                'Stinger': 'ã‚¹ãƒ†ã‚£ãƒ³ã‚¬ãƒ¼',
                'Spectre': 'ã‚¹ãƒšã‚¯ã‚¿ãƒ¼',
                'Judge': 'ã‚¸ãƒ£ãƒƒã‚¸',
                'Bucky': 'ãƒãƒƒã‚­ãƒ¼',
                'Bulldog': 'ãƒ–ãƒ«ãƒ‰ãƒƒã‚°',
                'Guardian': 'ã‚¬ãƒ¼ãƒ‡ã‚£ã‚¢ãƒ³',
                'Marshal': 'ãƒãƒ¼ã‚·ãƒ£ãƒ«',
                'Odin': 'ã‚ªãƒ¼ãƒ‡ã‚£ãƒ³',
                'Ares': 'ã‚¢ãƒ¬ã‚¹',
                'Knife': 'ãƒŠã‚¤ãƒ•',
                'Karambit': 'ã‚«ãƒ©ãƒ³ãƒ“ãƒƒãƒˆ',
                'Axe': 'ã‚¢ãƒƒã‚¯ã‚¹',
                'Sword': 'ã‚½ãƒ¼ãƒ‰',
                'Shorty': 'ã‚·ãƒ§ãƒ¼ãƒ†ã‚£ãƒ¼',
                'Unknown': 'è¿‘æ¥æ­¦å™¨'
            };
            
            return weaponNameMap[englishName] || englishName;
        }
        
        // ã‚¹ã‚­ãƒ³åã®æ—¥æœ¬èªç¿»è¨³ãƒãƒƒãƒ”ãƒ³ã‚°
        function translateSkinName(englishName) {
            // ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³åã®ç¿»è¨³ãƒãƒƒãƒ”ãƒ³ã‚°
            const collectionMap = {
                'Abyssal': 'ã‚¢ãƒ“ã‚µãƒ«',
                'Prime': 'ãƒ—ãƒ©ã‚¤ãƒ ',
                'Elderflame': 'ã‚¨ãƒ«ãƒ€ãƒ¼ãƒ•ãƒ¬ã‚¤ãƒ ',
                'Reaver': 'ãƒªãƒ¼ãƒãƒ¼',
                'Singularity': 'ã‚·ãƒ³ã‚®ãƒ¥ãƒ©ãƒªãƒ†ã‚£',
                'Ion': 'ã‚¤ã‚ªãƒ³',
                'Sovereign': 'ã‚½ãƒ–ãƒªãƒ³',
                'Dragon': 'ãƒ‰ãƒ©ã‚´ãƒ³',
                'Oni': 'é¬¼',
                'Glitchpop': 'ã‚°ãƒªãƒƒãƒãƒãƒƒãƒ—',
                'Spectrum': 'ã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ ',
                'RGX 11z Pro': 'RGX 11z ãƒ—ãƒ­',
                'Protocol 781-A': 'ãƒ—ãƒ­ãƒˆã‚³ãƒ« 781-A',
                'Champions': 'ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚º',
                'Sentinels of Light': 'ã‚»ãƒ³ãƒãƒãƒ«ã‚ºãƒ»ã‚ªãƒ–ãƒ»ãƒ©ã‚¤ãƒˆ',
                'Ruination': 'ãƒ«ã‚¤ãƒãƒ¼ã‚·ãƒ§ãƒ³',
                'Forsaken': 'ãƒ•ã‚©ãƒ¼ã‚»ã‚¤ã‚¯ãƒ³',
                'Magepunk': 'ãƒ¡ã‚¤ã‚¸ãƒ‘ãƒ³ã‚¯',
                'Blastx': 'ãƒ–ãƒ©ã‚¹ãƒˆX',
                'Nebula': 'ãƒãƒ“ãƒ¥ãƒ©',
                'Avalanche': 'ã‚¢ãƒãƒ©ãƒ³ãƒ',
                'Wasteland': 'ã‚¦ã‚§ã‚¤ã‚¹ãƒˆãƒ©ãƒ³ãƒ‰',
                'Luxe': 'ãƒªãƒ¥ã‚¯ã‚¹',
                'Minima': 'ãƒŸãƒ‹ãƒ',
                'Serenity': 'ã‚»ãƒ¬ãƒ‹ãƒ†ã‚£',
                'Sakura': 'æ¡œ',
                'Tigris': 'ãƒ†ã‚£ã‚°ãƒªã‚¹',
                'Convex': 'ã‚³ãƒ³ãƒ™ãƒƒã‚¯ã‚¹',
                'Depths': 'ãƒ‡ãƒ—ã‚¹',
                'Velocity': 'ãƒ™ãƒ­ã‚·ãƒ†ã‚£',
                'Infinity': 'ã‚¤ãƒ³ãƒ•ã‚£ãƒ‹ãƒ†ã‚£',
                'Standard': 'ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰',
                'Rush': 'ãƒ©ãƒƒã‚·ãƒ¥',
                'Frenzy': 'ãƒ•ãƒ¬ãƒ³ã‚¸ãƒ¼',
                'Tidal': 'ã‚¿ã‚¤ãƒ€ãƒ«',
                'Smite': 'ã‚¹ãƒã‚¤ãƒˆ',
                'Dot Exe': 'ãƒ‰ãƒƒãƒˆãƒ»ã‚¨ã‚°ã‚¼',
                'POLYfox': 'ãƒãƒªãƒ•ã‚©ãƒƒã‚¯ã‚¹',
                'Artisan': 'ã‚¢ãƒ«ãƒã‚¶ãƒ³',
                'Nunca Olvidados': 'ãƒŒãƒ³ã‚«ãƒ»ã‚ªãƒ«ãƒ“ãƒ€ãƒ‰ã‚¹',
                'Give Back': 'ã‚®ãƒ–ãƒ»ãƒãƒƒã‚¯',
                'GO! Vol. 1': 'GO! Vol. 1',
                'GO! Vol. 2': 'GO! Vol. 2',
                'Chronovoid': 'ã‚¯ãƒ­ãƒãƒ´ã‚©ã‚¤ãƒ‰',
                'Araxys': 'ã‚¢ãƒ©ã‚¯ã‚·ã‚¹',
                'Xenohunter': 'ã‚¼ãƒãƒãƒ³ã‚¿ãƒ¼',
                'Crimsonbeast': 'ã‚¯ãƒªãƒ ã‚¾ãƒ³ãƒ“ãƒ¼ã‚¹ãƒˆ',
                'ChronoVoid': 'ã‚¯ãƒ­ãƒãƒ´ã‚©ã‚¤ãƒ‰',
                'VCT LOCK//IN': 'VCT ãƒ­ãƒƒã‚¯ã‚¤ãƒ³',
                'Prelude to Chaos': 'ãƒ—ãƒ¬ãƒªãƒ¥ãƒ¼ãƒ‰ãƒ»ãƒˆã‚¥ãƒ»ã‚±ã‚¤ã‚ªã‚¹',
                'Neo Frontier': 'ãƒã‚ªãƒ»ãƒ•ãƒ­ãƒ³ãƒ†ã‚£ã‚¢',
                'Kohaku & Matsuba': 'ç¥ç€ & æ¾è‘‰',
                'Doodle Buds': 'ãƒ‰ã‚¥ãƒ¼ãƒ‰ãƒ«ãƒ»ãƒãƒƒã‚º',
                'Gaialas Vengeance': 'ã‚¬ã‚¤ã‚¢ãƒ©ã‚ºãƒ»ãƒ™ãƒ³ã‚¸ã‚§ãƒ³ã‚¹',
                'Imperium': 'ã‚¤ãƒ³ãƒšãƒªã‚¦ãƒ ',
                'Kuronami': 'é»’æ³¢',
                'Outpost': 'ã‚¢ã‚¦ãƒˆãƒã‚¹ãƒˆ',
                'Mystbloom': 'ãƒŸã‚¹ãƒˆãƒ–ãƒ«ãƒ¼ãƒ ',
                'Hush': 'ãƒãƒƒã‚·ãƒ¥',
                'Radiant Entertainment System': 'ãƒ¬ãƒ‡ã‚£ã‚¢ãƒ³ãƒˆãƒ»ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆãƒ»ã‚·ã‚¹ãƒ†ãƒ ',
                'Arcane': 'ã‚¢ãƒ¼ã‚±ã‚¤ãƒ³',
                'Winter Wunderland': 'ã‚¦ã‚£ãƒ³ã‚¿ãƒ¼ãƒ»ãƒ¯ãƒ³ãƒ€ãƒ¼ãƒ©ãƒ³ãƒ‰',
                'Hivemind': 'ãƒã‚¤ãƒ–ãƒã‚¤ãƒ³ãƒ‰',
                'Tethered Realms': 'ãƒ†ã‚¶ãƒ¼ãƒ‰ãƒ»ãƒ¬ãƒ«ãƒ ã‚º',
                'Spline': 'ã‚¹ãƒ—ãƒ©ã‚¤ãƒ³',
                'Prism': 'ãƒ—ãƒªã‚ºãƒ ',
                'Schema': 'ã‚¹ã‚­ãƒ¼ãƒ',
                'Task Force 809': 'ã‚¿ã‚¹ã‚¯ãƒ•ã‚©ãƒ¼ã‚¹ 809',
                'Galleria': 'ã‚¬ãƒ¬ãƒªã‚¢',
                'Bound': 'ãƒã‚¦ãƒ³ãƒ‰',
                'Gridcrash': 'ã‚°ãƒªãƒƒãƒ‰ã‚¯ãƒ©ãƒƒã‚·ãƒ¥',
                'Sarmad': 'ã‚µãƒ«ãƒãƒ‰',
                'Composite': 'ã‚³ãƒ³ãƒã‚¸ãƒƒãƒˆ',
                'Endeavour': 'ã‚¨ãƒ³ãƒ‡ãƒãƒ¼',
                'Ruin': 'ãƒ«ã‚¤ãƒ³',
                'Signature': 'ã‚·ã‚°ãƒãƒãƒ£ãƒ¼',
                'Snowfall': 'ã‚¹ãƒãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«',
                'Moondash': 'ãƒ ãƒ¼ãƒ³ãƒ€ãƒƒã‚·ãƒ¥',
                'Magepunk': 'ãƒ¡ã‚¤ã‚¸ãƒ‘ãƒ³ã‚¯',
                'No Limits': 'ãƒãƒ¼ãƒ»ãƒªãƒŸãƒƒãƒ„',
                'K/TAC': 'K/TAC',
                'Immortalized': 'ã‚¤ãƒ¢ãƒ¼ã‚¿ãƒ©ã‚¤ã‚ºãƒ‰',
                'Cryostasis': 'ã‚¯ãƒ©ã‚¤ã‚ªã‚¹ã‚¿ã‚·ã‚¹',
                'BlastX': 'ãƒ–ãƒ©ã‚¹ãƒˆX'
            };
            
            // æ­¦å™¨åã®ç¿»è¨³ãƒãƒƒãƒ”ãƒ³ã‚°
            const weaponTermMap = {
                'Phantom': 'ãƒ•ã‚¡ãƒ³ãƒˆãƒ ',
                'Vandal': 'ãƒ´ã‚¡ãƒ³ãƒ€ãƒ«',
                'Operator': 'ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼',
                'Sheriff': 'ã‚·ã‚§ãƒªãƒ•',
                'Ghost': 'ã‚´ãƒ¼ã‚¹ãƒˆ',
                'Classic': 'ã‚¯ãƒ©ã‚·ãƒƒã‚¯',
                'Frenzy': 'ãƒ•ãƒ¬ãƒ³ã‚¸ãƒ¼',
                'Stinger': 'ã‚¹ãƒ†ã‚£ãƒ³ã‚¬ãƒ¼',
                'Spectre': 'ã‚¹ãƒšã‚¯ã‚¿ãƒ¼',
                'Judge': 'ã‚¸ãƒ£ãƒƒã‚¸',
                'Bucky': 'ãƒãƒƒã‚­ãƒ¼',
                'Bulldog': 'ãƒ–ãƒ«ãƒ‰ãƒƒã‚°',
                'Guardian': 'ã‚¬ãƒ¼ãƒ‡ã‚£ã‚¢ãƒ³',
                'Marshal': 'ãƒãƒ¼ã‚·ãƒ£ãƒ«',
                'Odin': 'ã‚ªãƒ¼ãƒ‡ã‚£ãƒ³',
                'Ares': 'ã‚¢ãƒ¬ã‚¹',
                'Knife': 'ãƒŠã‚¤ãƒ•',
                'Karambit': 'ã‚«ãƒ©ãƒ³ãƒ“ãƒƒãƒˆ',
                'Axe': 'ã‚¢ãƒƒã‚¯ã‚¹',
                'Sword': 'ã‚½ãƒ¼ãƒ‰',
                'Shorty': 'ã‚·ãƒ§ãƒ¼ãƒ†ã‚£ãƒ¼',
                'Gauntlets': 'ã‚¬ãƒ³ãƒˆãƒ¬ãƒƒãƒˆ',
                'Claws': 'ã‚¯ãƒ­ãƒ¼',
                'Butterfly Knife': 'ãƒã‚¿ãƒ•ãƒ©ã‚¤ãƒŠã‚¤ãƒ•',
                'Tactical Knife': 'ã‚¿ã‚¯ãƒ†ã‚£ã‚«ãƒ«ãƒŠã‚¤ãƒ•',
                'Melee': 'è¿‘æ¥æ­¦å™¨'
            };
            
            // ãƒãƒªã‚¢ãƒ³ãƒˆåã¨ä¸€èˆ¬ç”¨èªã®ç¿»è¨³
            const variantMap = {
                'Level': 'ãƒ¬ãƒ™ãƒ«',
                'Variant': 'ãƒãƒªã‚¢ãƒ³ãƒˆ',
                'Edition': 'ã‚¨ãƒ‡ã‚£ã‚·ãƒ§ãƒ³',
                'Collection': 'ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³',
                'Default': 'ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ',
                'Premium': 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ',
                'Standard': 'ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰',
                'Deluxe': 'ãƒ‡ãƒ©ãƒƒã‚¯ã‚¹',
                'Ultimate': 'ã‚¢ãƒ«ãƒ†ã‚£ãƒ¡ãƒƒãƒˆ',
                'Limited': 'ãƒªãƒŸãƒ†ãƒƒãƒ‰',
                'Exclusive': 'ã‚¨ã‚¯ã‚¹ã‚¯ãƒ«ãƒ¼ã‚·ãƒ–',
                'Special': 'ã‚¹ãƒšã‚·ãƒ£ãƒ«',
                'Legendary': 'ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼',
                'Epic': 'ã‚¨ãƒ”ãƒƒã‚¯',
                'Rare': 'ãƒ¬ã‚¢',
                'Common': 'ã‚³ãƒ¢ãƒ³',
                'Uncommon': 'ã‚¢ãƒ³ã‚³ãƒ¢ãƒ³'
            };
            
            // ä¸€èˆ¬çš„ãªå½¢å®¹è©ãƒ»ç”¨èªã®ç¿»è¨³
            const generalTermMap = {
                'Royal': 'ãƒ­ã‚¤ãƒ¤ãƒ«',
                'Divine': 'ãƒ‡ã‚£ãƒã‚¤ãƒ³',
                'Celestial': 'ã‚»ãƒ¬ã‚¹ãƒ†ã‚£ã‚¢ãƒ«',
                'Infernal': 'ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ãƒŠãƒ«',
                'Cosmic': 'ã‚³ã‚ºãƒŸãƒƒã‚¯',
                'Quantum': 'ã‚¯ã‚¡ãƒ³ã‚¿ãƒ ',
                'Digital': 'ãƒ‡ã‚¸ã‚¿ãƒ«',
                'Cyber': 'ã‚µã‚¤ãƒãƒ¼',
                'Neon': 'ãƒã‚ªãƒ³',
                'Crystal': 'ã‚¯ãƒªã‚¹ã‚¿ãƒ«',
                'Shadow': 'ã‚·ãƒ£ãƒ‰ã‚¦',
                'Light': 'ãƒ©ã‚¤ãƒˆ',
                'Dark': 'ãƒ€ãƒ¼ã‚¯',
                'Golden': 'ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³',
                'Silver': 'ã‚·ãƒ«ãƒãƒ¼',
                'Bronze': 'ãƒ–ãƒ­ãƒ³ã‚º',
                'Platinum': 'ãƒ—ãƒ©ãƒãƒŠ',
                'Diamond': 'ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰',
                'Ruby': 'ãƒ«ãƒ“ãƒ¼',
                'Emerald': 'ã‚¨ãƒ¡ãƒ©ãƒ«ãƒ‰',
                'Sapphire': 'ã‚µãƒ•ã‚¡ã‚¤ã‚¢',
                'Fire': 'ãƒ•ã‚¡ã‚¤ã‚¢',
                'Ice': 'ã‚¢ã‚¤ã‚¹',
                'Lightning': 'ãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°',
                'Storm': 'ã‚¹ãƒˆãƒ¼ãƒ ',
                'Thunder': 'ã‚µãƒ³ãƒ€ãƒ¼',
                'Wind': 'ã‚¦ã‚£ãƒ³ãƒ‰',
                'Earth': 'ã‚¢ãƒ¼ã‚¹',
                'Water': 'ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼',
                'Blood': 'ãƒ–ãƒ©ãƒƒãƒ‰',
                'Death': 'ãƒ‡ã‚¹',
                'Life': 'ãƒ©ã‚¤ãƒ•',
                'War': 'ã‚¦ã‚©ãƒ¼',
                'Peace': 'ãƒ”ãƒ¼ã‚¹',
                'Honor': 'ã‚ªãƒŠãƒ¼',
                'Glory': 'ã‚°ãƒ­ãƒ¼ãƒªãƒ¼',
                'Victory': 'ãƒ“ã‚¯ãƒˆãƒªãƒ¼',
                'Champion': 'ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³',
                'Master': 'ãƒã‚¹ã‚¿ãƒ¼',
                'Elite': 'ã‚¨ãƒªãƒ¼ãƒˆ',
                'Pro': 'ãƒ—ãƒ­',
                'Advanced': 'ã‚¢ãƒ‰ãƒãƒ³ã‚¹ãƒ‰',
                'Basic': 'ãƒ™ãƒ¼ã‚·ãƒƒã‚¯',
                'Classic': 'ã‚¯ãƒ©ã‚·ãƒƒã‚¯',
                'Modern': 'ãƒ¢ãƒ€ãƒ³',
                'Future': 'ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼',
                'Past': 'ãƒ‘ã‚¹ãƒˆ',
                'Ancient': 'ã‚¨ãƒ³ã‚·ã‚§ãƒ³ãƒˆ',
                'Vintage': 'ãƒ´ã‚£ãƒ³ãƒ†ãƒ¼ã‚¸',
                'Retro': 'ãƒ¬ãƒˆãƒ­'
            };
            
            let translatedName = englishName;
            
            // ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³åã‚’ç¿»è¨³
            for (const [english, japanese] of Object.entries(collectionMap)) {
                const regex = new RegExp(`\\b${english}\\b`, 'gi');
                translatedName = translatedName.replace(regex, japanese);
            }
            
            // æ­¦å™¨åã‚’ç¿»è¨³
            for (const [english, japanese] of Object.entries(weaponTermMap)) {
                const regex = new RegExp(`\\b${english}\\b`, 'gi');
                translatedName = translatedName.replace(regex, japanese);
            }
            
            // ä¸€èˆ¬ç”¨èªã‚’ç¿»è¨³
            for (const [english, japanese] of Object.entries(generalTermMap)) {
                const regex = new RegExp(`\\b${english}\\b`, 'gi');
                translatedName = translatedName.replace(regex, japanese);
            }
            
            // ãƒãƒªã‚¢ãƒ³ãƒˆåã‚’ç¿»è¨³
            for (const [english, japanese] of Object.entries(variantMap)) {
                const regex = new RegExp(`\\b${english}\\b`, 'gi');
                translatedName = translatedName.replace(regex, japanese);
            }
            
            return translatedName;
        }
        
        // ã‚¹ã‚­ãƒ³åã‹ã‚‰æ­¦å™¨åã‚’æ¨æ¸¬ã™ã‚‹é–¢æ•°
        function extractWeaponFromName(skinName) {
            const weaponKeywords = {
                'Phantom': 'Phantom',
                'Vandal': 'Vandal',
                'Operator': 'Operator',
                'Sheriff': 'Sheriff',
                'Ghost': 'Ghost',
                'Classic': 'Classic',
                'Frenzy': 'Frenzy',
                'Stinger': 'Stinger',
                'Spectre': 'Spectre',
                'Judge': 'Judge',
                'Bucky': 'Bucky',
                'Bulldog': 'Bulldog',
                'Guardian': 'Guardian',
                'Marshal': 'Marshal',
                'Odin': 'Odin',
                'Ares': 'Ares',
                'Knife': 'Knife',
                'Karambit': 'Knife',
                'Axe': 'Knife',
                'Sword': 'Knife',
                'Shorty': 'Shorty'
            };
            
            for (const [keyword, weapon] of Object.entries(weaponKeywords)) {
                if (skinName.includes(keyword)) {
                    return weapon;
                }
            }
            
            return 'Unknown';
        }
        
        // æ­¦å™¨ã‚¿ã‚¤ãƒ—çµ±è¨ˆã‚’å–å¾—ã™ã‚‹é–¢æ•°ï¼ˆå¾Œæ–¹äº’æ›æ€§ã®ãŸã‚ï¼‰
        function getWeaponTypeStats(skins) {
            return getWeaponStats(skins);
        }
        
        // æ­¦å™¨ã‚«ãƒ†ã‚´ãƒªçµ±è¨ˆã‚’å–å¾—ã™ã‚‹é–¢æ•°
        function getWeaponCategoryStats() {
            const stats = {};
            Object.values(weaponCategories).forEach(weapon => {
                stats[weapon.category] = (stats[weapon.category] || 0) + 1;
            });
            return stats;
        }
        
        // ãƒ¬ã‚¢ãƒªãƒ†ã‚£çµ±è¨ˆã‚’å–å¾—ã™ã‚‹é–¢æ•°
        function getRarityStats(skins) {
            const stats = {};
            skins.forEach(skin => {
                stats[skin.rarity] = (stats[skin.rarity] || 0) + 1;
            });
            return stats;
        }
        
        // ä¾¡æ ¼çµ±è¨ˆã‚’å–å¾—ã™ã‚‹é–¢æ•°
        function getPriceStats(skins) {
            const prices = skins.map(s => s.price);
            const priceDistribution = {
                0: skins.filter(s => s.price === 0).length,           // ç„¡æ–™
                875: skins.filter(s => s.price === 875).length,       // ã‚»ãƒ¬ã‚¯ãƒˆ/ãƒ‡ãƒ©ãƒƒã‚¯ã‚¹
                1775: skins.filter(s => s.price === 1775).length,     // ãƒ—ãƒ¬ãƒŸã‚¢ãƒ 
                2475: skins.filter(s => s.price === 2475).length,     // ã‚¦ãƒ«ãƒˆãƒ©
                3550: skins.filter(s => s.price === 3550).length,     // ã‚¨ã‚¯ã‚¹ã‚¯ãƒ«ãƒ¼ã‚·ãƒ–
                other: skins.filter(s => ![0, 875, 1775, 2475, 3550].includes(s.price)).length
            };
            
            return {
                min: Math.min(...prices),
                max: Math.max(...prices),
                avg: Math.round(prices.reduce((a, b) => a + b, 0) / prices.length),
                distribution: priceDistribution,
                total: skins.length
            };
        }
        
        // ä¾¡æ ¼ãƒ†ã‚¹ãƒˆç”¨ã®é–¢æ•°
        function testPriceDistribution() {
            console.log('[Test] ä¾¡æ ¼åˆ†å¸ƒã®è©³ç´°èª¿æŸ»...');
            
            const priceStats = getPriceStats(allSkins);
            console.log('ä¾¡æ ¼çµ±è¨ˆ:', priceStats);
            
            // å„ä¾¡æ ¼å¸¯ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’è¡¨ç¤º
            [0, 875, 1775, 2475, 3550].forEach(price => {
                const skinsAtPrice = allSkins.filter(s => s.price === price);
                if (skinsAtPrice.length > 0) {
                    console.log(`${price} VP (${skinsAtPrice.length}å€‹):`, 
                        skinsAtPrice.slice(0, 5).map(s => `${s.name} (${s.tierName}, rank:${s.tierRank})`));
                } else {
                    console.log(`${price} VP: 0å€‹`);
                }
            });
            
            // äºˆæœŸã—ãªã„ä¾¡æ ¼ã®ã‚¹ã‚­ãƒ³ã‚’ç¢ºèª
            const unexpectedPrices = allSkins.filter(s => ![0, 875, 1775, 2475, 3550].includes(s.price));
            if (unexpectedPrices.length > 0) {
                console.log('äºˆæœŸã—ãªã„ä¾¡æ ¼ã®ã‚¹ã‚­ãƒ³:', 
                    unexpectedPrices.slice(0, 10).map(s => `${s.name}: ${s.price}VP (${s.tierName}, rank:${s.tierRank})`));
            }
            
            return priceStats;
        }
        
        // ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã‚’åˆ¤å®šã™ã‚‹é–¢æ•°
        function determineRarity(tierInfo) {
            try {
                const rank = tierInfo.rank || 0;
                const name = tierInfo.name?.toLowerCase() || '';
                
                // åˆå›ã®ã¿ãƒ†ã‚£ã‚¢æƒ…å ±ã‚’ãƒ­ã‚°å‡ºåŠ›
                if (window.tierLogCount === undefined) window.tierLogCount = 0;
                if (window.tierLogCount < 5) {
                    console.log(`[Rarity] ãƒ†ã‚£ã‚¢åˆ†æ: "${tierInfo.name}" (rank: ${rank})`);
                    window.tierLogCount++;
                }
            
                // å®Ÿéš›ã®VALORANT APIã®ãƒ†ã‚£ã‚¢åã«åŸºã¥ã„ãŸæ­£ç¢ºãªåˆ¤å®š
                // Editionç³»ã®åˆ¤å®šï¼ˆæœ€ã‚‚ä¸€èˆ¬çš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
                if (name.includes('select edition') || name.includes('select')) {
                    return 'select';
                }
                
                if (name.includes('deluxe edition') || name.includes('deluxe')) {
                    return 'deluxe';
                }
                
                if (name.includes('premium edition') || name.includes('premium')) {
                    return 'premium';
                }
                
                if (name.includes('ultra edition') || name.includes('ultra')) {
                    return 'ultra';
                }
                
                if (name.includes('exclusive edition') || name.includes('exclusive')) {
                    return 'exclusive';
                }
                
                // ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ç³»ï¼ˆéå¸¸ã«é™å®šçš„ï¼‰
                if (name.includes('legendary') || name.includes('transcendent') || 
                    name.includes('radiant') || name.includes('immortal')) {
                    return 'legendary';
                }
                
                // ãƒ©ãƒ³ã‚¯ãƒ™ãƒ¼ã‚¹ã®åˆ¤å®šï¼ˆä¿å®ˆçš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼‰
                // å®Ÿéš›ã®VALORANTã®Content Tier rankã«åŸºã¥ã
                if (rank === 0) {
                    return 'select'; // ç„¡æ–™/åŸºæœ¬
                } else if (rank >= 1 && rank <= 12) {
                    return 'deluxe'; // 875 VP tier
                } else if (rank >= 13 && rank <= 24) {
                    return 'premium'; // 1775 VP tier
                } else if (rank >= 25 && rank <= 49) {
                    return 'ultra'; // 2475 VP tier
                } else if (rank >= 50) {
                    return 'exclusive'; // 3550+ VP tier
                }
                
                // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆãƒ©ãƒ³ã‚¯ãŒç¯„å›²å¤–ã®å ´åˆï¼‰
                return 'deluxe';
                
            } catch (error) {
                console.error('[Rarity] ãƒ¬ã‚¢ãƒªãƒ†ã‚£åˆ¤å®šã‚¨ãƒ©ãƒ¼:', error, tierInfo);
                return 'select';
            }
        }
        
        // ä¾¡æ ¼ã‚’æ¨å®šã™ã‚‹é–¢æ•°ï¼ˆå®Ÿéš›ã®VALORANTä¾¡æ ¼ä½“ç³»ã«åŸºã¥ãï¼‰
        function estimatePrice(tierRank, tierName, skinName) {
            // ãƒ‡ãƒãƒƒã‚°ç”¨ï¼šä¾¡æ ¼åˆ¤å®šã®ãƒ­ã‚°å‡ºåŠ›ï¼ˆæœ€åˆã®10å€‹ã®ã¿ï¼‰
            if (window.priceLogCount === undefined) window.priceLogCount = 0;
            if (window.priceLogCount < 10) {
                console.log(`[Price] ä¾¡æ ¼åˆ¤å®š: "${skinName}" - Tier: "${tierName}" (rank: ${tierRank})`);
                window.priceLogCount++;
            }
            
            const name = tierName?.toLowerCase() || '';
            
            // ãƒ†ã‚£ã‚¢åã«åŸºã¥ãç›´æ¥çš„ãªä¾¡æ ¼åˆ¤å®šï¼ˆæœ€ã‚‚æ­£ç¢ºï¼‰
            if (name.includes('select') && tierRank === 0) {
                return 0; // ç„¡æ–™ã‚¹ã‚­ãƒ³ï¼ˆãƒãƒˆãƒ«ãƒ‘ã‚¹ãªã©ï¼‰
            }
            
            if (name.includes('select') || name.includes('deluxe')) {
                return 875; // Select/Deluxe Edition
            }
            
            if (name.includes('premium')) {
                return 1775; // Premium Edition
            }
            
            if (name.includes('ultra')) {
                return 2475; // Ultra Edition
            }
            
            if (name.includes('exclusive')) {
                return 3550; // Exclusive Edition
            }
            
            // å…·ä½“çš„ãªã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹ã®ä¾¡æ ¼åˆ¤å®š
            const skinNameLower = skinName?.toLowerCase() || '';
            
            // 3550 VP (æœ€é«˜ä¾¡æ ¼) ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
            if (skinNameLower.includes('elderflame') || skinNameLower.includes('glitchpop') ||
                skinNameLower.includes('singularity') || skinNameLower.includes('ruination') ||
                skinNameLower.includes('chronovoid') || skinNameLower.includes('radiant crisis') ||
                skinNameLower.includes('kuronami')) {
                return 3550;
            }
            
            // 2475 VP ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
            if (skinNameLower.includes('reaver') || skinNameLower.includes('prime') ||
                skinNameLower.includes('sovereign') || skinNameLower.includes('ion') ||
                skinNameLower.includes('oni') || skinNameLower.includes('protocol 781-a') ||
                skinNameLower.includes('spectrum') || skinNameLower.includes('forsaken') ||
                skinNameLower.includes('neptune') || skinNameLower.includes('origin') ||
                skinNameLower.includes('sentinels of light')) {
                return 2475;
            }
            
            // 1775 VP ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
            if (skinNameLower.includes('blast x') || skinNameLower.includes('magepunk') ||
                skinNameLower.includes('wasteland') || skinNameLower.includes('nebula') ||
                skinNameLower.includes('sakura') || skinNameLower.includes('spline') ||
                skinNameLower.includes('avalanche') || skinNameLower.includes('prism') ||
                skinNameLower.includes('luxe') || skinNameLower.includes('infantry')) {
                return 1775;
            }
            
            // 875 VP ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
            if (skinNameLower.includes('minima') || skinNameLower.includes('rush') ||
                skinNameLower.includes('velocity') || skinNameLower.includes('couture') ||
                skinNameLower.includes('dot exe') || skinNameLower.includes('hivemind') ||
                skinNameLower.includes('doodle buds') || skinNameLower.includes('tigris')) {
                return 875;
            }
            
            // ãƒ©ãƒ³ã‚¯ãƒ™ãƒ¼ã‚¹ã®ä¾¡æ ¼åˆ¤å®šï¼ˆã‚ˆã‚Šåºƒã„ç¯„å›²ã§ã®åˆ¤å®šï¼‰
            if (tierRank === 0) {
                return 0; // å®Œå…¨ç„¡æ–™
            } else if (tierRank >= 1 && tierRank <= 15) {
                return 875; // ä½ä¾¡æ ¼å¸¯
            } else if (tierRank >= 16 && tierRank <= 30) {
                return 1775; // ä¸­ä¾¡æ ¼å¸¯
            } else if (tierRank >= 31 && tierRank <= 45) {
                return 2475; // é«˜ä¾¡æ ¼å¸¯
            } else if (tierRank >= 46) {
                return 3550; // æœ€é«˜ä¾¡æ ¼å¸¯
            }
            
            // ã‚ˆã‚Šç´°ã‹ã„ãƒ©ãƒ³ã‚¯åˆ¤å®šï¼ˆå®Ÿéš›ã®APIãƒ‡ãƒ¼ã‚¿ã«å¯¾å¿œï¼‰
            if (tierRank <= 5) return 875;
            if (tierRank <= 10) return 875;
            if (tierRank <= 20) return 1775;
            if (tierRank <= 35) return 2475;
            
            return 3550; // é«˜ãƒ©ãƒ³ã‚¯ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
        }
        
        // ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³åã‚’æŠ½å‡ºã™ã‚‹é–¢æ•°
        function extractCollectionName(displayName, themeUuid) {
            // ä¸€èˆ¬çš„ãªã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³åã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œç´¢
            const collectionPatterns = [
                'Prime', 'Reaver', 'Sovereign', 'Dragon', 'Glitchpop', 
                'Elderflame', 'Singularity', 'Ion', 'Oni', 'Vandal',
                'Phantom', 'Ruination', 'Forsaken', 'Spline', 'Avalanche',
                'BlastX', 'Magepunk', 'Nebula', 'Prism', 'Luxe',
                'Wasteland', 'Hivemind', 'Doodle Buds', 'Tethered Realms'
            ];
            
            let collectionName = '';
            
            for (const pattern of collectionPatterns) {
                if (displayName.includes(pattern)) {
                    collectionName = `${pattern} Collection`;
                    break;
                }
            }
            
            // ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯æœ€åˆã®å˜èªã‚’ä½¿ç”¨
            if (!collectionName) {
                const firstWord = displayName.split(' ')[0];
                collectionName = `${firstWord} Collection`;
            }
            
            // æ—¥æœ¬èªã«ç¿»è¨³ã—ã¦è¿”ã™
            return translateSkinName(collectionName);
        }
        
        function displaySkins(skins) {
            console.log(`[Display] ${skins.length}ä»¶ã®ã‚¹ã‚­ãƒ³ã‚’è¡¨ç¤ºä¸­`);
            const skinsGrid = document.getElementById('skinsGrid');
            
            if (!skinsGrid) {
                console.error('[Display] skinsGridã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                return;
            }
            
            if (skins.length === 0) {
                skinsGrid.innerHTML = '<div class="no-results">ğŸ” æ¤œç´¢æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹ã‚¹ã‚­ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚<br><small>ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ã‚¯ãƒªã‚¢ã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚</small></div>';
                return;
            }
            
            const skinsHTML = skins.map(skin => `
                <div class="skin-card">
                    <img src="${skin.image}" alt="${skin.name}" class="skin-image" 
                         loading="lazy"
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDMyMCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMjAiIGhlaWdodD0iMTgwIiBmaWxsPSIjMUExQTJFIi8+CjxjaXJjbGUgY3g9IjE2MCIgY3k9IjkwIiByPSIzMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmY0NjU1IiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMTYwIiB5PSI5NSIgZmlsbD0iI2ZmNDY1NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMiIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIj5TS0lOPC90ZXh0Pgo8dGV4dCB4PSIxNjAiIHk9IjEzMCIgZmlsbD0iIzg4OCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIj5JbWFnZSBOb3QgQXZhaWxhYmxlPC90ZXh0Pgo8L3N2Zz4='"
                    <div class="skin-info">
                        <div class="skin-name">${skin.name}</div>
                        <div class="skin-weapon">${skin.weapon}</div>
                        <div class="skin-details">
                            <div class="skin-price">${skin.price === 0 ? 'FREE' : skin.price.toLocaleString() + ' VP'}</div>
                            <div class="skin-rarity rarity-${skin.rarity}">${getRarityDisplayName(skin.rarity)}</div>
                        </div>
                        <div class="skin-collection">${skin.collection}</div>
                    </div>
                </div>
            `).join('');
            
            skinsGrid.innerHTML = skinsHTML;
        }
        
        function getRarityDisplayName(rarity) {
            const rarityMap = {
                'select': 'ã‚»ãƒ¬ã‚¯ãƒˆ',
                'deluxe': 'ãƒ‡ãƒ©ãƒƒã‚¯ã‚¹',
                'premium': 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ',
                'ultra': 'ã‚¦ãƒ«ãƒˆãƒ©',
                'exclusive': 'ã‚¨ã‚¯ã‚¹ã‚¯ãƒ«ãƒ¼ã‚·ãƒ–',
                'legendary': 'ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼'
            };
            return rarityMap[rarity] || rarity;
        }
        
        function filterSkins() {
            console.log('[Filter] ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å®Ÿè¡Œé–‹å§‹');
            
            // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å€¤ã‚’å–å¾—
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            const weaponFilter = document.getElementById('weaponFilter').value;
            const rarityFilter = document.getElementById('rarityFilter').value;
            const priceFilter = document.getElementById('priceFilter').value;
            
            console.log('[Filter] ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¡ä»¶:', {
                search: searchTerm,
                weapon: weaponFilter,
                rarity: rarityFilter,
                price: priceFilter,
                totalSkins: allSkins.length
            });
            
            // allSkinsãŒç©ºã®å ´åˆã¯æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³
            if (!allSkins || allSkins.length === 0) {
                console.log('[Filter] allSkinsãŒç©ºã§ã™');
                displaySkins([]);
                return;
            }
            
            let filtered = allSkins.filter(skin => {
                // æ¤œç´¢ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
                let matchesSearch = true;
                if (searchTerm) {
                    matchesSearch = skin.name.toLowerCase().includes(searchTerm) || 
                                  skin.originalName.toLowerCase().includes(searchTerm) ||
                                  skin.weapon.toLowerCase().includes(searchTerm) ||
                                  skin.weaponEnglish.toLowerCase().includes(searchTerm) ||
                                  skin.collection.toLowerCase().includes(searchTerm);
                }
                
                // æ­¦å™¨åãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
                let matchesWeapon = true;
                if (weaponFilter) {
                    matchesWeapon = skin.weaponEnglish === weaponFilter;
                }
                
                // ãƒ¬ã‚¢ãƒªãƒ†ã‚£ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
                let matchesRarity = true;
                if (rarityFilter) {
                    matchesRarity = skin.rarity === rarityFilter;
                }
                
                // ä¾¡æ ¼ç¯„å›²ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
                let matchesPrice = true;
                if (priceFilter) {
                    const [min, max] = priceFilter.split('-').map(Number);
                    matchesPrice = skin.price >= min && skin.price <= (max === 99999 ? Infinity : max);
                }
                
                return matchesSearch && matchesWeapon && matchesRarity && matchesPrice;
            });
            
            console.log(`[Filter] ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼çµæœ: ${filtered.length}ä»¶`);
            
            currentSkins = filtered;
            displaySkins(filtered);
            
            // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼çµæœã®çµ±è¨ˆã‚’è¡¨ç¤º
            updateFilterStats(filtered.length, allSkins.length);
        }
        
        // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼çµ±è¨ˆã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
        function updateFilterStats(filteredCount, totalCount) {
            const statsElement = document.getElementById('filterStats');
            if (statsElement) {
                statsElement.textContent = `${filteredCount} / ${totalCount} ã‚¹ã‚­ãƒ³ã‚’è¡¨ç¤ºä¸­`;
            }
        }
        
        // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹é–¢æ•°
        function clearFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('weaponFilter').value = '';
            document.getElementById('rarityFilter').value = '';
            document.getElementById('priceFilter').value = '';
            
            currentSkins = [...allSkins];
            displaySkins(currentSkins);
            updateFilterStats(allSkins.length, allSkins.length);
        }
        
        // æ­¦å™¨é¸æŠè‚¢ã‚’å‹•çš„ã«æ›´æ–°ã™ã‚‹é–¢æ•°
        function updateWeaponFilterOptions() {
            const weaponFilter = document.getElementById('weaponFilter');
            const weapons = [...new Set(allSkins.map(skin => skin.weaponEnglish)
                .filter(weapon => weapon && weapon.trim() !== '' && weapon !== 'Unknown'))];
            
            // æ—¢å­˜ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã‚¯ãƒªã‚¢ï¼ˆæœ€åˆã®ã€Œã™ã¹ã¦ã®æ­¦å™¨ã€ä»¥å¤–ï¼‰
            weaponFilter.innerHTML = '<option value="">ã™ã¹ã¦ã®æ­¦å™¨</option>';
            
            // æ­¦å™¨ã®å„ªå…ˆé †ä½ã§ã‚½ãƒ¼ãƒˆï¼ˆäººæ°—é †ãƒ»ã‚«ãƒ†ã‚´ãƒªé †ï¼‰
            const weaponSortOrder = [
                'Vandal', 'Phantom', 'Operator', 'Sheriff', 'Ghost', 'Classic',
                'Spectre', 'Stinger', 'Judge', 'Bucky', 'Bulldog', 'Guardian', 
                'Marshal', 'Odin', 'Ares', 'Frenzy', 'Shorty', 'Knife'
            ];
            
            const sortedWeapons = weapons.sort((a, b) => {
                const indexA = weaponSortOrder.indexOf(a);
                const indexB = weaponSortOrder.indexOf(b);
                
                // ä¸¡æ–¹ãŒé †åºãƒªã‚¹ãƒˆã«ã‚ã‚‹å ´åˆ
                if (indexA !== -1 && indexB !== -1) {
                    return indexA - indexB;
                }
                // Aã®ã¿ãŒã‚ã‚‹å ´åˆ
                if (indexA !== -1) return -1;
                // Bã®ã¿ãŒã‚ã‚‹å ´åˆ
                if (indexB !== -1) return 1;
                // ä¸¡æ–¹ã¨ã‚‚ãªã„å ´åˆã¯åå‰ã§ã‚½ãƒ¼ãƒˆ
                return a.localeCompare(b);
            });
            
            sortedWeapons.forEach(weapon => {
                const count = allSkins.filter(s => s.weaponEnglish === weapon).length;
                const option = document.createElement('option');
                option.value = weapon;
                option.textContent = `${getJapaneseWeaponName(weapon)} (${count}å€‹)`;
                weaponFilter.appendChild(option);
            });
            
            console.log('[Filter] æ­¦å™¨ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’æ›´æ–°:', sortedWeapons);
            console.log('[Filter] å„æ­¦å™¨ã®ä»¶æ•°:', getWeaponStats(allSkins));
        }
        
        // æ­¦å™¨çµ±è¨ˆã‚’å–å¾—ã™ã‚‹é–¢æ•°
        function getWeaponStats(skins) {
            const stats = {};
            skins.forEach(skin => {
                const weapon = skin.weaponEnglish;
                stats[weapon] = (stats[weapon] || 0) + 1;
            });
            return stats;
        }
        
        // ãƒ¬ã‚¢ãƒªãƒ†ã‚£ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’å‹•çš„ã«æ›´æ–°ã™ã‚‹é–¢æ•°
        function updateRarityFilterOptions() {
            const rarityFilter = document.getElementById('rarityFilter');
            const rarities = [...new Set(allSkins.map(skin => skin.rarity))];
            
            // åŸºæœ¬ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®š
            rarityFilter.innerHTML = '<option value="">ã™ã¹ã¦ã®ãƒ¬ã‚¢ãƒªãƒ†ã‚£</option>';
            
            const rarityMap = {
                'select': 'ã‚»ãƒ¬ã‚¯ãƒˆ',
                'deluxe': 'ãƒ‡ãƒ©ãƒƒã‚¯ã‚¹', 
                'premium': 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ',
                'ultra': 'ã‚¦ãƒ«ãƒˆãƒ©',
                'exclusive': 'ã‚¨ã‚¯ã‚¹ã‚¯ãƒ«ãƒ¼ã‚·ãƒ–',
                'legendary': 'ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼'
            };
            
            // ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã®å„ªå…ˆé †ä½ï¼ˆä¾¡æ ¼é †ï¼‰
            const rarityOrder = ['select', 'deluxe', 'premium', 'ultra', 'exclusive', 'legendary'];
            
            const sortedRarities = rarities.sort((a, b) => {
                const indexA = rarityOrder.indexOf(a);
                const indexB = rarityOrder.indexOf(b);
                return indexA - indexB;
            });
            
            sortedRarities.forEach(rarity => {
                const count = allSkins.filter(s => s.rarity === rarity).length;
                if (count > 0) { // å®Ÿéš›ã«å­˜åœ¨ã™ã‚‹ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã®ã¿è¿½åŠ 
                    const option = document.createElement('option');
                    option.value = rarity;
                    option.textContent = `${rarityMap[rarity] || rarity} (${count}å€‹)`;
                    rarityFilter.appendChild(option);
                }
            });
            
            console.log('[Filter] ãƒ¬ã‚¢ãƒªãƒ†ã‚£ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’æ›´æ–°:', sortedRarities);
        }
        
        // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ã‚’åˆæœŸåŒ–ã™ã‚‹é–¢æ•°
        function initializeFilters() {
            console.log('[Filter] ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ã‚’åˆæœŸåŒ–ä¸­...');
            
            // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å‹•çš„ã«æ›´æ–°
            updateWeaponFilterOptions();
            updateRarityFilterOptions();
            
            // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’ã™ã¹ã¦å‰Šé™¤ã—ã¦ã‹ã‚‰å†è¨­å®šï¼ˆé‡è¤‡é˜²æ­¢ï¼‰
            const searchInput = document.getElementById('searchInput');
            const weaponFilter = document.getElementById('weaponFilter');
            const rarityFilter = document.getElementById('rarityFilter');
            const priceFilter = document.getElementById('priceFilter');
            
            // æ—¢å­˜ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã§å‰Šé™¤
            const newSearchInput = searchInput.cloneNode(true);
            const newWeaponFilter = weaponFilter.cloneNode(true);
            const newRarityFilter = rarityFilter.cloneNode(true);
            const newPriceFilter = priceFilter.cloneNode(true);
            
            searchInput.parentNode.replaceChild(newSearchInput, searchInput);
            weaponFilter.parentNode.replaceChild(newWeaponFilter, weaponFilter);
            rarityFilter.parentNode.replaceChild(newRarityFilter, rarityFilter);
            priceFilter.parentNode.replaceChild(newPriceFilter, priceFilter);
            
            // æ–°ã—ã„ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
            document.getElementById('searchInput').addEventListener('input', filterSkins);
            document.getElementById('weaponFilter').addEventListener('change', filterSkins);
            document.getElementById('rarityFilter').addEventListener('change', filterSkins);
            document.getElementById('priceFilter').addEventListener('change', filterSkins);
            
            console.log('[Filter] ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ã®åˆæœŸåŒ–å®Œäº†');
        }
        
        // ãƒ‡ãƒãƒƒã‚°ç”¨é–¢æ•°ï¼ˆé–‹ç™ºæ™‚ã®ã¿ä½¿ç”¨ï¼‰
        function debugFilterData() {
            console.log('[Debug] ç¾åœ¨ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿:');
            console.log('- ç·ã‚¹ã‚­ãƒ³æ•°:', allSkins.length);
            console.log('- è¡¨ç¤ºä¸­ã‚¹ã‚­ãƒ³æ•°:', currentSkins.length);
            
            const rarityStats = getRarityStats(allSkins);
            const priceStats = getPriceStats(allSkins);
            
            console.log('- ãƒ¬ã‚¢ãƒªãƒ†ã‚£åˆ†å¸ƒ:', rarityStats);
            console.log('- ä¾¡æ ¼åˆ†å¸ƒ:', priceStats.distribution);
            console.log('- æ­¦å™¨ä¸€è¦§:', [...new Set(allSkins.map(s => s.weapon))]);
            
            // ä¾¡æ ¼åˆ¥ã®è©³ç´°åˆ†å¸ƒ
            console.log('\n=== ä¾¡æ ¼åˆ¥è©³ç´°åˆ†å¸ƒ ===');
            Object.entries(priceStats.distribution).forEach(([price, count]) => {
                if (count > 0 && price !== 'other') {
                    const samples = allSkins.filter(s => s.price === parseInt(price)).slice(0, 3);
                    console.log(`${price} VP (${count}å€‹):`, samples.map(s => s.name));
                }
            });
            
            // å„ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã®ã‚µãƒ³ãƒ—ãƒ«è¡¨ç¤º
            console.log('\n=== ãƒ¬ã‚¢ãƒªãƒ†ã‚£åˆ¥ã‚µãƒ³ãƒ—ãƒ« ===');
            Object.keys(rarityStats).forEach(rarity => {
                const count = rarityStats[rarity];
                const samples = allSkins.filter(s => s.rarity === rarity).slice(0, 3);
                console.log(`${rarity} (${count}å€‹):`, samples.map(s => `${s.name} (${s.price}VP)`));
            });
            
            // ä¾¡æ ¼ã¨ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã®ç›¸é–¢ãƒã‚§ãƒƒã‚¯
            console.log('\n=== ä¾¡æ ¼ãƒ»ãƒ¬ã‚¢ãƒªãƒ†ã‚£ç›¸é–¢ãƒã‚§ãƒƒã‚¯ ===');
            const correlationCheck = {};
            allSkins.forEach(skin => {
                const key = `${skin.rarity}_${skin.price}VP`;
                correlationCheck[key] = (correlationCheck[key] || 0) + 1;
            });
            console.log('ä¾¡æ ¼ãƒ»ãƒ¬ã‚¢ãƒªãƒ†ã‚£çµ„ã¿åˆã‚ã›:', correlationCheck);
        }
        
        // ãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å®Ÿè¡Œï¼ˆé–‹ç™ºæ™‚ã®ã¿ä½¿ç”¨ï¼‰
        function testFilter(type = 'weapon', value = 'Vandal') {
            console.log(`[Test] ${type}ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®ãƒ†ã‚¹ãƒˆ: ${value}`);
            if (type === 'weapon') {
                document.getElementById('weaponFilter').value = value;
                console.log(`ãƒ´ã‚¡ãƒ³ãƒ€ãƒ«ã‚¹ã‚­ãƒ³ã‚’è¡¨ç¤ºä¸­...`);
            } else if (type === 'rarity') {
                document.getElementById('rarityFilter').value = value;
            }
            filterSkins();
        }
        
        // äººæ°—æ­¦å™¨ã®ãƒ†ã‚¹ãƒˆé–¢æ•°
        function testPopularWeapons() {
            console.log('[Test] äººæ°—æ­¦å™¨ã®ã‚¹ã‚­ãƒ³æ•°ã‚’ãƒ†ã‚¹ãƒˆ...');
            
            const popularWeapons = ['Vandal', 'Phantom', 'Operator', 'Sheriff', 'Ghost'];
            
            popularWeapons.forEach(weapon => {
                const count = allSkins.filter(s => s.weaponEnglish === weapon).length;
                const japaneseWeapon = getJapaneseWeaponName(weapon);
                console.log(`${japaneseWeapon} (${weapon}): ${count}å€‹ã®ã‚¹ã‚­ãƒ³`);
                
                if (count > 0) {
                    const samples = allSkins.filter(s => s.weaponEnglish === weapon).slice(0, 3);
                    console.log(`  ã‚µãƒ³ãƒ—ãƒ«:`, samples.map(s => `${s.name} (${s.price}VP)`));
                }
            });
        }
        
        // ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä»¥ä¸Šã®ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹é–¢æ•°
        function testPremiumSkins() {
            console.log('[Test] ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä»¥ä¸Šã®ã‚¹ã‚­ãƒ³ã‚’ãƒ†ã‚¹ãƒˆä¸­...');
            
            const rarityOrder = ['select', 'deluxe', 'premium', 'ultra', 'exclusive', 'legendary'];
            
            rarityOrder.forEach(rarity => {
                const skinsOfRarity = allSkins.filter(s => s.rarity === rarity);
                console.log(`${rarity}: ${skinsOfRarity.length}å€‹`);
                
                if (skinsOfRarity.length > 0) {
                    console.log(`  ã‚µãƒ³ãƒ—ãƒ«:`, skinsOfRarity.slice(0, 5).map(s => `${s.name} (${s.tierName}, rank:${s.tierRank})`));
                }
            });
            
            // ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä»¥ä¸Šã‚’è¡¨ç¤º
            const premiumSkins = allSkins.filter(s => 
                ['premium', 'ultra', 'exclusive', 'legendary'].includes(s.rarity)
            );
            
            console.log(`ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä»¥ä¸Šã®ç·æ•°: ${premiumSkins.length}å€‹`);
            return premiumSkins;
        }
        
        // ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ã‚¹ã‚­ãƒ³ã«ç‰¹åŒ–ã—ãŸãƒ†ã‚¹ãƒˆé–¢æ•°
        function testLegendarySkins() {
            console.log('[Test] ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ã‚¹ã‚­ãƒ³ã®è©³ç´°èª¿æŸ»...');
            
            const legendarySkins = allSkins.filter(s => s.rarity === 'legendary');
            console.log(`ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ã‚¹ã‚­ãƒ³ç·æ•°: ${legendarySkins.length}å€‹`);
            
            if (legendarySkins.length > 0) {
                console.log('ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ã‚¹ã‚­ãƒ³ã®è©³ç´°:');
                legendarySkins.forEach((skin, index) => {
                    console.log(`  ${index + 1}. ${skin.name}`);
                    console.log(`     - æ­¦å™¨: ${skin.weapon}`);
                    console.log(`     - ãƒ†ã‚£ã‚¢: ${skin.tierName} (rank: ${skin.tierRank})`);
                    console.log(`     - ä¾¡æ ¼: ${skin.price} VP`);
                    console.log('---');
                });
            } else {
                console.log('âœ… ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ã‚¹ã‚­ãƒ³ã¯ã‚ã‚Šã¾ã›ã‚“ï¼ˆæ­£å¸¸ãªçŠ¶æ…‹ï¼‰');
                console.log('å®Ÿéš›ã®VALORANTã§ã¯ã€ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã¯éå¸¸ã«ç¨€ã§ã™ã€‚');
                
                // æœ€é«˜ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã®ã‚¹ã‚­ãƒ³ã‚’è¡¨ç¤º
                const exclusiveSkins = allSkins.filter(s => s.rarity === 'exclusive');
                const ultraSkins = allSkins.filter(s => s.rarity === 'ultra');
                
                console.log(`æœ€é«˜ãƒ¬ã‚¢ãƒªãƒ†ã‚£ - ã‚¨ã‚¯ã‚¹ã‚¯ãƒ«ãƒ¼ã‚·ãƒ–: ${exclusiveSkins.length}å€‹`);
                if (exclusiveSkins.length > 0) {
                    console.log('ã‚¨ã‚¯ã‚¹ã‚¯ãƒ«ãƒ¼ã‚·ãƒ–ã®ã‚µãƒ³ãƒ—ãƒ«:', 
                        exclusiveSkins.slice(0, 3).map(s => `${s.name} (${s.price}VP)`));
                }
                
                console.log(`æ¬¡ç‚¹ãƒ¬ã‚¢ãƒªãƒ†ã‚£ - ã‚¦ãƒ«ãƒˆãƒ©: ${ultraSkins.length}å€‹`);
                if (ultraSkins.length > 0) {
                    console.log('ã‚¦ãƒ«ãƒˆãƒ©ã®ã‚µãƒ³ãƒ—ãƒ«:', 
                        ultraSkins.slice(0, 3).map(s => `${s.name} (${s.price}VP)`));
                }
            }
            
            return legendarySkins;
        }
        
        // å…¨Content Tierã®è©³ç´°æƒ…å ±ã‚’è¡¨ç¤º
        function showAllContentTiers() {
            console.log('[Debug] å…¨Content Tierã®è©³ç´°:');
            
            const tiers = Object.values(contentTiers);
            const sortedTiers = tiers.sort((a, b) => b.rank - a.rank); // é«˜ãƒ©ãƒ³ã‚¯é †
            
            console.log(`ç·Content Tieræ•°: ${sortedTiers.length}å€‹`);
            console.log('ãƒ©ãƒ³ã‚¯é †ï¼ˆä¸Šä½20å€‹ï¼‰:');
            
            sortedTiers.slice(0, 20).forEach((tier, index) => {
                const skinsWithThisTier = allSkins.filter(s => s.tierName === tier.name);
                console.log(`${index + 1}. "${tier.name}" (rank: ${tier.rank}) - ${skinsWithThisTier.length}ã‚¹ã‚­ãƒ³`);
            });
            
            // ãƒ©ãƒ³ã‚¯åˆ†å¸ƒã‚’è¡¨ç¤º
            const rankDistribution = {};
            tiers.forEach(tier => {
                const rankRange = Math.floor(tier.rank / 10) * 10;
                const key = `${rankRange}-${rankRange + 9}`;
                rankDistribution[key] = (rankDistribution[key] || 0) + 1;
            });
            
            console.log('ãƒ©ãƒ³ã‚¯åˆ†å¸ƒ:', rankDistribution);
            return sortedTiers;
        }
        
        // ãƒ¬ã‚¢ãƒªãƒ†ã‚£åˆ¥è¡¨ç¤ºãƒ†ã‚¹ãƒˆ
        function showRarityTest(rarity) {
            console.log(`[Test] ${rarity}ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã®ã‚¹ã‚­ãƒ³ã‚’è¡¨ç¤º`);
            document.getElementById('rarityFilter').value = rarity;
            filterSkins();
        }
        
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã«ãƒ‡ãƒãƒƒã‚°é–¢æ•°ã‚’å…¬é–‹ï¼ˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å®Ÿè¡Œå¯èƒ½ï¼‰
        window.debugFilterData = debugFilterData;
        window.testFilter = testFilter;
        window.testPopularWeapons = testPopularWeapons;
        window.testPremiumSkins = testPremiumSkins;
        window.testLegendarySkins = testLegendarySkins;
        window.testPriceDistribution = testPriceDistribution;
        window.showAllContentTiers = showAllContentTiers;
        window.showRarityTest = showRarityTest;
        window.clearFilters = clearFilters;
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¨APIãƒ‡ãƒ¼ã‚¿ã‚’åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeHamburgerMenu();
            fetchValorantData(); // APIã‹ã‚‰ã‚¹ã‚­ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
        });
    </script>
</body>
</html> 